(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["1c5cee24"],{e981:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-my-xl w-90"},[n("q-table",{attrs:{data:t.serverData,"row-key":"name",pagination:t.serverPagination,loading:t.loading,columns:t.columns,title:"Zoznam produktov","binary-state-sort":""},on:{"update:pagination":function(e){t.serverPagination=e},request:t.request},scopedSlots:t._u([{key:"body",fn:function(e){return n("q-tr",{attrs:{props:e}},[n("q-td",{key:"id",attrs:{props:e}},[n("span",[t._v(t._s(e.row.id))])]),n("q-td",{key:"name",attrs:{props:e}},[n("span",[t._v(t._s(e.row.name))])]),n("q-td",{key:"price",attrs:{props:e}},[n("span",[t._v(t._s(e.row.price)+"€")])]),n("q-td",{key:"size",attrs:{props:e}},[n("span",[t._v(t._s(e.row.size))])]),n("q-td",{key:"quantity",attrs:{props:e}},[n("span",[t._v(t._s(e.row.quantity))])]),n("q-td",{staticClass:"text-right"},[n("div",[n("q-btn",{staticClass:"q-mr-xs",attrs:{round:"",icon:"edit"},on:{click:function(n){t.$router.push("/products/"+e.row.id+"/edit")}}}),n("q-btn",{attrs:{round:"",icon:"delete"},on:{click:function(n){t.destroy(e.row.id,e.row.name,e.row.__index)}}})],1)])],1)}}])})],1)},i=[];a._withStripped=!0;var o=n("bc3a"),s=n.n(o),r={data:function(){return{columns:[{name:"id",label:"ID",field:"id",sortable:!1,align:"left"},{name:"name",label:"Názov produktu",field:"name",sortable:!0,align:"left"},{name:"price",label:"Cena",field:"price",sortable:!1,align:"left"},{name:"size",label:"Veľkosť",field:"size",sortable:!1,align:"left"},{name:"quantity",label:"Počet",field:"quantity",sortable:!1,align:"left"},{name:"actions",label:"Akcie",sortable:!1,align:"right"}],selected:[],loading:!1,serverPagination:{page:1,rowsNumber:10,rowsPerPage:5,sortBy:"name",descending:!0},serverData:[]}},methods:{request:function(t){var e=this,n=t.pagination;this.loading=!0,s.a.get("http://127.0.0.1:8000/api/admin-products/list/".concat(n.page,"?rowsPerPage=").concat(n.rowsPerPage,"&sortBy=").concat(n.sortBy,"&descending=").concat(n.descending)).then(function(t){var a=t.data;console.log(a),e.serverPagination=n,e.serverPagination.rowsNumber=a.rowsNumber,e.serverData=a.rows,e.loading=!1}).catch(function(t){console.log(t),e.loading=!1})},requestAll:function(){var t=this;s.a.get("http://127.0.0.1:8000/api/admin-products/listAll").then(function(e){var n=e.data;t.serverData=n.rows})},destroy:function(t,e,n){var a=this;this.$q.dialog({title:"Vymazať",message:"Ste si istý že chete odstrániť "+e+"?",color:"primary",ok:!0,cancel:!0}).then(function(){s.a.delete("http://127.0.0.1:8000/api/delete-product/".concat(t)).then(function(){a.$q.notify({type:"positive",timeout:2e3,message:"Produkt bol odstránený."}),a.request({pagination:a.serverPagination,filter:a.filter})}).catch(function(t){a.$q.notify({type:"negative",timeout:2e3,message:"Nastala chyba."}),console.log(t)})}).catch(function(){})}},mounted:function(){this.requestAll(),this.request({pagination:this.serverPagination,filter:this.filter})}},l=r,c=(n("efd3"),n("2877")),d=Object(c["a"])(l,a,i,!1,null,null,null);d.options.__file="Index.vue";e["default"]=d.exports},efd3:function(t,e,n){"use strict";var a=n("f6d6"),i=n.n(a);i.a},f6d6:function(t,e,n){}}]);